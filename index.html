<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <title>Four-Typos</title>
  </head>

  <body>
    <div id="menu" class="flex-container" >
      <div>
        <img class="Icon" src="Materials/Icon/Info.png" alt="Info">
      </div>
      <div>
        <img class="Icon" src="Materials/Icon/Menu.png" alt="Menu">
      </div>

    </div>

    <div id="home-videoContainer" class="grid-container">
      <div class="grid-item" onclick="location.href='Pages/Marfet/Marfet.html';">
        <video id="Marfet" class="grid-video" width=100% height=100% loop muted>
          <source src="Materials/Video/Marfet_isoFull.mp4" type="video/mp4">
          <source src="Materials/Video/Marfet_isoFull.ogg" type="video/ogg">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="grid-item" onclick="location.href='Pages/Exhifition/Exhifition.html';">
        <video id="Exhifition" class="grid-video" width=100% height=100% loop muted>
          <source src="Materials/Video/Exhifition_isoFull.mp4" type="video/mp4">
          <source src="Materials/Video/Exhifition_isoFull.ogg" type="video/ogg">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="grid-item" onclick="location.href='Pages/Stufio/Stufio.html';">
        <video id="Stufio" class="grid-video" width=100% height=100% loop muted>
          <source src="Materials/Video/Stufio_isoFull.mp4" type="video/mp4">
          <source src="Materials/Video/Stufio_isoFull.ogg" type="video/ogg">
          Your browser does not support the video tag.
        </video>
      </div>

      <div class="grid-item" onclick="location.href='Pages/Tofer/Tofer.html';">
        <video id="Tofer" class="grid-video" width=100% height=100% loop muted>
          <source src="Materials/Video/Tofer_isoFull.mp4" type="video/mp4">
          <source src="Materials/Video/Tofer_isoFull.ogg" type="video/ogg">
          Your browser does not support the video tag.
        </video>
      </div>
    </div>

  </body>
</html>

<script type="text/javascript">
  const Tofer = document.getElementById("Tofer");
  const Marfet = document.getElementById("Marfet");
  const Exhifition = document.getElementById("Exhifition");
  const Stufio = document.getElementById("Stufio");
  let videoList = [Tofer, Marfet, Exhifition, Stufio];

  let vidReady = [false, false, false, false];

  for (let i = 0; i < videoList.length; i++){
    videoList[i].addEventListener("canplaythrough", function(){
      value[i] = true;
      console.log(vidReady);
    });
  }

  console.log("Play");
  
  var simulVidPlayer = setInterval(() => {
    var trueChecker = arr => arr.every(v => v === true);

    if (trueChecker(vidReady) === true) {
      videoList.forEach(function(elem){
        elem.play();
      });
      
      clearInterval(simulVidPlayer);
    }
    
  }, 100)
</script>
