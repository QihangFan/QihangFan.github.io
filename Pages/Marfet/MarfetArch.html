<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3BFP82C12P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-3BFP82C12P');
    </script>

    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../css/style.css">
    <script src="../../JavaScript/navComponents.js"></script>
    <script src="../../JavaScript/isoOverlayController.js"></script>
    <script src="../../JavaScript/jquery-3.6.0.min.js"></script>
    <script src="../../JavaScript/dropdownMenu.js"></script>
    <script src="../../JavaScript/overlayInfoCredit.js"></script>
    <meta name = "viewport" content = "width=device-width, minimum-scale=1.0, maximum-scale = 1.0, user-scalable = no">

    <title>Marfet Arch</title>

</head>
<body>

<!-- site container to control overflow-->
<div id="siteDiv" class="site">

    <!--  background-->
    <div id="Marfetsolo_div" class="fullScreenVideo" >
        <video id="MarfetArchSolo" class="pageSolo" width=100% height=100% autoplay muted playsinline>
            <source src="/Materials/Video/Marfet/MarfetArch.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!--    overlay contents-->
    <div class="overlayLayer">

        <div id="marfetArchNavIconsFirst" class="navIcons" style="visibility: hidden; opacity: 0;">

            <!--                hover receiver-->
            <div onclick="location.href='/Pages/Marfet/MarfetBooth.html';">
                <div id="MarfetArchToBooth" class="navButtonDiv" style = "right:3%; top:34%">
                    <div class="iconWrapper">
                        <img  class="navButton" src="/Materials/Icon/door-enter-line-right.png"
                              alt="Enter">
                    </div>
                </div>
            </div>

            <div onclick="MarfetArchSolo.play();">
                <div id="MarfetArchEnter" class="navButtonDiv" style = "left:calc(35vw - 120px); bottom:30%">
                    <div class="iconWrapper">
                        <img class="navButton" src="/Materials/Icon/door-enter-line-left.png"
                             alt="Enter">
                    </div>
                </div>
            </div>

        </div>

        <div id="marfetArchNavIconsSecond" class="navIcons" style="visibility: hidden; opacity: 0;">
            <div onclick="pauseWaitThenPlay(MarfetArchSolo);">
                <div id="MarfetArchExit" class="navButtonDiv" style = "right:10vw; bottom:10vh">
                    <div class="iconWrapper">
                        <img class="navButton" src="/Materials/Icon/door-enter-line-right.png"
                             alt="Enter">
                    </div>
                </div>
            </div>

        </div>

        <!--            text Content-->
        <div id="marfetArchText" class="textContent" style="visibility: hidden; opacity: 0;">
            <p class="paraTalking topLeftCorner" style="padding-right: 50px;">
                Architecture leads the useless to the invaluable.
            </p>
        </div>

        <div id="marfetArchTextSecond" class="textContent centerContent" style="visibility: hidden; opacity: 0; padding: 30vh 0;">
            <h1 class="h1Talking accentColor">
                The Marfet
            </h1>
            <p class="paraTalking accentColor">
                Where upcycled merchandises reinvent<br>
                materials born as essence,<br>
                and deadstock spring to life.
            </p>
        </div>

    </div>

    <!--hover content to show-->
    <div id="cursorArchToBoothArrow" class="pointer" style="visibility: hidden; opacity: 0;">
        <img src="/Materials/Icon/arrow-dif.png" class="cursorStyle" alt="" style="transform-origin: center; transform: rotate(90deg) translate(-50%, 50%);">
    </div>

    <div id="cursorArchToBoothText" class="pointerText" style="visibility: hidden; opacity: 0; transform: translate(-55%, 5%);">
        <h1 class="h1-navDir">
            The Booth
        </h1>
    </div>

    <div id="cursorArchEnterArrow" class="pointer" style="visibility: hidden; opacity: 0;">
        <img src="/Materials/Icon/arrow-dif.png" class="cursorStyle" alt="" style="transform-origin: center; transform: rotate(270deg) translate(50%, -50%);">
    </div>

    <div id="cursorArchEnterText" class="pointerText" style="visibility: hidden; opacity: 0; transform: translate(-5%, 5%);">
        <h1 class="h1-navDir">
            Enter
        </h1>
    </div>

    <div id="cursorArchExitArrow" class="pointer" style="visibility: hidden; opacity: 0;">
        <img src="/Materials/Icon/arrow-dif.png" class="cursorStyle" alt="" style="transform-origin: center; transform: rotate(180deg) translate(50%, 50%);">
    </div>

    <div id="cursorArchExitText" class="pointerText" style="visibility: hidden; opacity: 0; transform: translate(-35%, -15%);">
        <h1 class="h1-navDir">
            Exit
        </h1>
    </div>


    <!--  nav menu-->
    <nav-menu></nav-menu>

    <!--  dropdown menu-->
    <dropdown-menu id="menuDropdown" style="visibility: hidden; opacity: 0;"></dropdown-menu>

    <!--  dropdown info extra-->
    <div id="hoverInfoDiv" class="hoverInfoPos" style="visibility: hidden; opacity: 0;">
        <div class="hoverInfoWrapper">
            <h2>
                The Arch
            </h2>
            <h2 class="h2-Dec">
                The Marfet
            </h2>
            <overlay-credit></overlay-credit>
        </div>
    </div>
</div>

</body>
</html>

<script type="text/javascript">

    //site overflow setup
    overflowController();

    //intro animation
    const MarfetArchSolo = document.getElementById("MarfetArchSolo");

    var pausePoint = [2.15,15],
        startPoint = [0, 2.15],
        pauseIndex = 0;

    setInterval(videoControl, 10, MarfetArchSolo, pausePoint);
    immerseOverlayControl(MarfetArchSolo, "marfetArchText", 1000, "marfetArchTextSecond", 5000, "marfetArchNavIconsFirst", 2000, "marfetArchNavIconsSecond", 7000);

    function videoControl (videoID, pauseArray) {
        // console.log(videoID.currentTime);
        // console.log(currentStopTime);

        if (videoID.currentTime >= pauseArray[pauseIndex]) {
            videoID.pause();
            // ++pauseIndex;
            // console.log("videoPause");
        }
    }

    MarfetArchSolo.addEventListener('pause', (event) => {
        if (pausePoint.length === ++pauseIndex) {
            pauseIndex = 0;
        }
        currentStopTime = pausePoint[pauseIndex];
    });

    function pauseWaitThenPlay(videoID) {
        videoID.pause();

        setTimeout(function(){
            videoID.currentTime = startPoint[pauseIndex];
            videoID.play();
        }, 100);
    }

    //hover - cursor change
    const cursorArchToBoothArrow = document.getElementById("cursorArchToBoothArrow"),
            cursorArchToBoothText = document.getElementById("cursorArchToBoothText"),
            cursorArchEnterArrow = document.getElementById("cursorArchEnterArrow"),
            cursorArchEnterText = document.getElementById("cursorArchEnterText"),
            cursorArchExitArrow = document.getElementById("cursorArchExitArrow"),
            cursorArchExitText = document.getElementById("cursorArchExitText");


    $(document).mousemove(function (e) {
        $(".pointer").css({ left: e.pageX, top: e.pageY });
        $(".pointerText").css({ left: e.pageX, top: e.pageY });
    });

    cursorShowShy("#MarfetArchToBooth", cursorArchToBoothArrow, cursorArchToBoothText);
    cursorShowShy("#MarfetArchEnter", cursorArchEnterArrow, cursorArchEnterText);
    cursorShowShy("#MarfetArchExit", cursorArchExitArrow, cursorArchExitText);
</script>